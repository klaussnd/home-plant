EESchema Schematic File Version 4
LIBS:switch-12V-cache
EELAYER 26 0
EELAYER END
$Descr User 9055 9055
encoding utf-8
Sheet 1 1
Title "Switching module for plant watering"
Date "1 dec 2010"
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Wire Wire Line
	3200 5750 3400 5750
Wire Wire Line
	5250 1400 5500 1400
Wire Wire Line
	5250 1400 5250 1100
Connection ~ 7600 7000
Wire Wire Line
	3300 6900 5850 6900
Wire Wire Line
	8100 5800 8100 5600
Wire Wire Line
	7500 5600 7500 6000
Wire Wire Line
	4900 6100 5100 6100
Wire Wire Line
	5250 6550 5100 6550
Wire Wire Line
	5100 6550 5100 6200
Wire Wire Line
	3400 6700 3400 7000
Wire Wire Line
	3000 6600 3300 6600
Wire Wire Line
	2700 5400 2700 4150
Wire Wire Line
	4900 6700 5950 6700
Wire Wire Line
	4900 5700 5950 5700
Wire Wire Line
	3000 3000 3000 5950
Wire Wire Line
	3000 5950 3400 5950
Connection ~ 3200 4750
Wire Wire Line
	2150 4750 3200 4750
Wire Wire Line
	2700 4150 2150 4150
Wire Wire Line
	1350 6450 3400 6450
Wire Wire Line
	3200 2800 3200 4750
Wire Wire Line
	3200 2800 2750 2800
Wire Wire Line
	3900 3900 3900 2500
Wire Wire Line
	5350 1200 6000 1200
Connection ~ 750  5400
Connection ~ 6350 1200
Wire Wire Line
	6700 1100 6700 1200
Wire Wire Line
	6000 1200 6000 1100
Wire Wire Line
	5350 1200 5350 1100
Connection ~ 750  1650
Wire Wire Line
	750  1400 750  1650
Wire Wire Line
	6350 1200 6350 1100
Connection ~ 6000 1200
Wire Wire Line
	7050 1200 7050 1100
Connection ~ 6700 1200
Wire Wire Line
	750  3050 750  5400
Wire Wire Line
	3800 2600 3800 4550
Wire Wire Line
	3800 4550 4125 4550
Wire Wire Line
	2750 2700 3300 2700
Wire Wire Line
	3300 2700 3300 4850
Wire Wire Line
	3300 5850 3400 5850
Wire Wire Line
	2750 2900 3100 2900
Wire Wire Line
	3100 2900 3100 4650
Wire Wire Line
	2800 4000 1350 4000
Connection ~ 1350 4000
Wire Wire Line
	2150 4650 3100 4650
Connection ~ 3100 4650
Wire Wire Line
	2150 4850 3300 4850
Connection ~ 3300 4850
Wire Wire Line
	2750 3400 3400 3400
Wire Wire Line
	3400 3400 3400 5500
Wire Wire Line
	3400 5500 5000 5500
Wire Wire Line
	5000 5500 5000 6400
Wire Wire Line
	5000 6400 4900 6400
Wire Wire Line
	4900 5800 5950 5800
Connection ~ 6450 7000
Wire Wire Line
	3300 6600 3300 6900
Wire Wire Line
	5850 6900 5850 6500
Wire Wire Line
	5250 5950 5100 5950
Wire Wire Line
	5100 5950 5100 6100
Wire Wire Line
	5100 6200 4900 6200
Connection ~ 5550 7000
Wire Wire Line
	7400 5600 7400 5800
Wire Wire Line
	3000 7000 3400 7000
Wire Wire Line
	7600 5600 7600 7000
Wire Wire Line
	8200 6000 8200 5600
Wire Wire Line
	8300 7000 8300 5600
Wire Wire Line
	3100 5650 3400 5650
Text Label 7050 1200 0    60   ~ 0
12V+
Text Label 5350 1400 0    60   ~ 0
12V-
NoConn ~ 2750 3200
NoConn ~ 2750 3300
$Comp
L Device:C C3
U 1 1 4CA20DB3
P 5400 6550
F 0 "C3" H 5450 6650 50  0000 L CNN
F 1 "22pF" H 5450 6450 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 5400 6550 60  0001 C CNN
F 3 "" H 5400 6550 60  0001 C CNN
	1    5400 6550
	0    1    1    0   
$EndComp
$Comp
L Device:C C2
U 1 1 4CA20D9B
P 5400 5950
F 0 "C2" H 5450 6050 50  0000 L CNN
F 1 "22pF" H 5450 5850 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 5400 5950 60  0001 C CNN
F 3 "" H 5400 5950 60  0001 C CNN
	1    5400 5950
	0    1    1    0   
$EndComp
$Comp
L Device:Crystal X1
U 1 1 4CA20D92
P 5250 6250
F 0 "X1" H 5250 6400 60  0000 C CNN
F 1 "16MHz" H 5250 6100 60  0000 C CNN
F 2 "Crystal:Crystal_HC49-U_Vertical" H 5250 6250 60  0001 C CNN
F 3 "" H 5250 6250 60  0001 C CNN
	1    5250 6250
	0    1    1    0   
$EndComp
NoConn ~ 4900 6600
$Comp
L power:+5V #PWR03
U 1 1 4CA20C88
P 3300 6600
F 0 "#PWR03" H 3300 6690 20  0001 C CNN
F 1 "+5V" H 3300 6690 30  0000 C CNN
F 2 "" H 3300 6600 60  0001 C CNN
F 3 "" H 3300 6600 60  0001 C CNN
	1    3300 6600
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR05
U 1 1 4CA20C75
P 6450 7000
F 0 "#PWR05" H 6450 7000 30  0001 C CNN
F 1 "GND" H 6450 6930 30  0001 C CNN
F 2 "" H 6450 7000 60  0001 C CNN
F 3 "" H 6450 7000 60  0001 C CNN
	1    6450 7000
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR04
U 1 1 4CA20C50
P 4725 5175
F 0 "#PWR04" H 4725 5175 30  0001 C CNN
F 1 "GND" H 4725 5105 30  0001 C CNN
F 2 "" H 4725 5175 60  0001 C CNN
F 3 "" H 4725 5175 60  0001 C CNN
	1    4725 5175
	1    0    0    -1  
$EndComp
NoConn ~ 5950 6000
$Comp
L Interface_CAN_LIN:MCP2551-I-SN U3
U 1 1 4CA20BF7
P 6450 5900
F 0 "U3" H 6650 5600 60  0000 C CNN
F 1 "MCP2551" H 6400 6150 60  0000 C CNN
F 2 "ICs_SMD_K:SOIC8_150" H 6450 5900 60  0001 C CNN
F 3 "" H 6450 5900 60  0001 C CNN
	1    6450 5900
	1    0    0    -1  
$EndComp
NoConn ~ 4900 5950
NoConn ~ 3400 6300
NoConn ~ 3400 6200
NoConn ~ 3400 6100
$Comp
L devicex:MCP2515-E_SO U2
U 1 1 4CA209C3
P 4000 6150
F 0 "U2" H 4550 5500 60  0000 C CNN
F 1 "MCP2515" H 3950 6750 60  0000 C CNN
F 2 "ICs_SMD_K:SOIC18_300" H 4000 6150 60  0001 C CNN
F 3 "" H 4000 6150 60  0001 C CNN
	1    4000 6150
	1    0    0    -1  
$EndComp
$Comp
L MCU_Microchip_ATtiny:ATtiny84-20SSU U1
U 1 1 4CA20730
P 2150 2900
F 0 "U1" H 2100 3600 50  0000 L BNN
F 1 "ATTINY24" H 2000 2150 50  0000 L BNN
F 2 "ICs_SMD_K:SOIC14_150" H 2150 2900 60  0001 C CNN
F 3 "" H 2150 2900 60  0001 C CNN
	1    2150 2900
	1    0    0    -1  
$EndComp
$Comp
L Device:R R5
U 1 1 4C99B516
P 4275 4550
F 0 "R5" V 4355 4550 50  0000 C CNN
F 1 "330" V 4275 4550 50  0000 C CNN
F 2 "Resistor_SMD:R_0805_2012Metric" H 4275 4550 60  0001 C CNN
F 3 "" H 4275 4550 60  0001 C CNN
	1    4275 4550
	0    1    1    0   
$EndComp
$Comp
L Device:R R4
U 1 1 4C99B512
P 4275 3900
F 0 "R4" V 4355 3900 50  0000 C CNN
F 1 "330" V 4275 3900 50  0000 C CNN
F 2 "Resistor_SMD:R_0805_2012Metric" H 4275 3900 60  0001 C CNN
F 3 "" H 4275 3900 60  0001 C CNN
	1    4275 3900
	0    1    1    0   
$EndComp
$Comp
L Device:R R3
U 1 1 4C99B4EF
P 4275 3250
F 0 "R3" V 4355 3250 50  0000 C CNN
F 1 "330" V 4275 3250 50  0000 C CNN
F 2 "Resistor_SMD:R_0805_2012Metric" H 4275 3250 60  0001 C CNN
F 3 "" H 4275 3250 60  0001 C CNN
	1    4275 3250
	0    1    1    0   
$EndComp
$Comp
L Device:R R2
U 1 1 4C99B478
P 4250 2600
F 0 "R2" V 4330 2600 50  0000 C CNN
F 1 "330" V 4250 2600 50  0000 C CNN
F 2 "Resistor_SMD:R_0805_2012Metric" H 4250 2600 60  0001 C CNN
F 3 "" H 4250 2600 60  0001 C CNN
	1    4250 2600
	0    1    1    0   
$EndComp
$Comp
L Connector_Generic:Conn_01x02 P6
U 1 1 4C8B7DA9
P 6950 900
F 0 "P6" V 6900 900 40  0000 C CNN
F 1 "Pump" V 7000 900 40  0000 C CNN
F 2 "Connector_Molex:Molex_SPOX_5267-02A_1x02_P2.50mm_Vertical" H 6950 900 60  0001 C CNN
F 3 "" H 6950 900 60  0001 C CNN
	1    6950 900 
	0    -1   -1   0   
$EndComp
$Comp
L Connector_Generic:Conn_01x02 P5
U 1 1 4C8B7D83
P 6600 900
F 0 "P5" V 6550 900 40  0000 C CNN
F 1 "Pump" V 6650 900 40  0000 C CNN
F 2 "Connector_Molex:Molex_SPOX_5267-02A_1x02_P2.50mm_Vertical" H 6600 900 60  0001 C CNN
F 3 "" H 6600 900 60  0001 C CNN
	1    6600 900 
	0    -1   -1   0   
$EndComp
$Comp
L Connector_Generic:Conn_01x02 P4
U 1 1 4C8B7D6D
P 6250 900
F 0 "P4" V 6200 900 40  0000 C CNN
F 1 "Pump" V 6300 900 40  0000 C CNN
F 2 "Connector_Molex:Molex_SPOX_5267-02A_1x02_P2.50mm_Vertical" H 6250 900 60  0001 C CNN
F 3 "" H 6250 900 60  0001 C CNN
	1    6250 900 
	0    -1   -1   0   
$EndComp
$Comp
L Connector_Generic:Conn_01x02 P3
U 1 1 4C8B7D3C
P 5900 900
F 0 "P3" V 5850 900 40  0000 C CNN
F 1 "Pump" V 5950 900 40  0000 C CNN
F 2 "Connector_Molex:Molex_SPOX_5267-02A_1x02_P2.50mm_Vertical" H 5900 900 60  0001 C CNN
F 3 "" H 5900 900 60  0001 C CNN
	1    5900 900 
	0    -1   -1   0   
$EndComp
$Comp
L connx:CONN_PROG_AVR P1
U 1 1 4C8B6DB5
P 1800 4600
F 0 "P1" H 1850 5150 60  0000 C CNN
F 1 "CONN_PROG_AVR" V 2050 4600 60  0000 C CNN
F 2 "Connectors_K:SIL-10_MYAVR" H 1800 4600 60  0001 C CNN
F 3 "" H 1800 4600 60  0001 C CNN
	1    1800 4600
	-1   0    0    1   
$EndComp
$Comp
L Device:C C1
U 1 1 4C88E9B8
P 750 2900
F 0 "C1" H 800 3000 50  0000 L CNN
F 1 "100n" H 800 2800 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 750 2900 60  0001 C CNN
F 3 "" H 750 2900 60  0001 C CNN
	1    750  2900
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR02
U 1 1 4C88E978
P 750 5500
F 0 "#PWR02" H 750 5500 30  0001 C CNN
F 1 "GND" H 750 5430 30  0001 C CNN
F 2 "" H 750 5500 60  0001 C CNN
F 3 "" H 750 5500 60  0001 C CNN
	1    750  5500
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR01
U 1 1 4C88E76A
P 750 1400
F 0 "#PWR01" H 750 1490 20  0001 C CNN
F 1 "+5V" H 750 1490 30  0000 C CNN
F 2 "" H 750 1400 60  0001 C CNN
F 3 "" H 750 1400 60  0001 C CNN
	1    750  1400
	1    0    0    -1  
$EndComp
$Comp
L Device:R R1
U 1 1 4C88E685
P 1350 1800
F 0 "R1" V 1430 1800 50  0000 C CNN
F 1 "10k" V 1350 1800 50  0000 C CNN
F 2 "Resistor_SMD:R_0805_2012Metric" H 1350 1800 60  0001 C CNN
F 3 "" H 1350 1800 60  0001 C CNN
	1    1350 1800
	1    0    0    -1  
$EndComp
Connection ~ 3300 6600
Wire Wire Line
	2800 4000 2800 4550
Wire Wire Line
	2800 4550 2150 4550
$Comp
L Device:C C4
U 1 1 5B8C0C1E
P 3000 6750
F 0 "C4" H 3050 6850 50  0000 L CNN
F 1 "100n" H 3050 6650 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 3000 6750 60  0001 C CNN
F 3 "" H 3000 6750 60  0001 C CNN
	1    3000 6750
	1    0    0    -1  
$EndComp
Wire Wire Line
	3000 6900 3000 7000
Connection ~ 3400 7000
Wire Wire Line
	7600 7000 8300 7000
Wire Wire Line
	7400 5800 8100 5800
Wire Wire Line
	3200 4750 3200 5750
Wire Wire Line
	750  5400 750  5500
Wire Wire Line
	6350 1200 6700 1200
Wire Wire Line
	750  1650 750  2750
Wire Wire Line
	6000 1200 6350 1200
Wire Wire Line
	6700 1200 7050 1200
Wire Wire Line
	1350 4000 1350 6450
Wire Wire Line
	3100 4650 3100 5650
Wire Wire Line
	3300 4850 3300 5850
Wire Wire Line
	6450 7000 7000 7000
Wire Wire Line
	5550 7000 6450 7000
Wire Wire Line
	7500 6000 8200 6000
Wire Wire Line
	3300 6600 3400 6600
Wire Wire Line
	3400 7000 5550 7000
Wire Wire Line
	750  1650 1350 1650
Wire Wire Line
	5550 5950 5550 6550
Wire Wire Line
	6450 6300 6450 7000
Wire Wire Line
	5850 5500 6450 5500
$Comp
L connx:Conn_RJ11 J1
U 1 1 5BB8F3D7
P 7400 5400
F 0 "J1" V 7366 5112 50  0000 R CNN
F 1 "CAN" V 7275 5112 50  0000 R CNN
F 2 "Connectors_K:RJ11_RO" H 7400 5400 50  0001 C CNN
F 3 "" H 7400 5400 50  0001 C CNN
	1    7400 5400
	0    -1   -1   0   
$EndComp
$Comp
L connx:Conn_RJ11 J2
U 1 1 5BB8F4D1
P 8100 5400
F 0 "J2" V 8066 5112 50  0000 R CNN
F 1 "CAN" V 7975 5112 50  0000 R CNN
F 2 "Connectors_K:RJ11_RO" H 8100 5400 50  0001 C CNN
F 3 "" H 8100 5400 50  0001 C CNN
	1    8100 5400
	0    -1   -1   0   
$EndComp
Wire Wire Line
	5950 6700 5950 6100
Connection ~ 1350 1650
Wire Wire Line
	750  5400 2700 5400
Wire Wire Line
	1350 1950 1350 4000
Wire Wire Line
	1350 1650 2150 1650
Wire Wire Line
	2150 2000 2150 1650
Wire Wire Line
	2150 3800 2150 4150
Connection ~ 2150 4150
Wire Wire Line
	4100 2300 2750 2300
Wire Wire Line
	4100 2600 4100 2300
Wire Wire Line
	4000 3250 4000 2400
Wire Wire Line
	4000 2400 2750 2400
Wire Wire Line
	3900 2500 2750 2500
Wire Wire Line
	3800 2600 2750 2600
Wire Wire Line
	2750 3000 3000 3000
Wire Wire Line
	2750 3500 2800 3500
Wire Wire Line
	2800 3500 2800 4000
Connection ~ 2800 4000
Wire Wire Line
	5250 6100 5250 5950
Connection ~ 5250 5950
Wire Wire Line
	5250 6400 5250 6550
Connection ~ 5250 6550
Connection ~ 5550 6550
Wire Wire Line
	5550 6550 5550 7000
Wire Wire Line
	6950 5800 7400 5800
Connection ~ 7400 5800
Wire Wire Line
	6950 6000 7500 6000
Connection ~ 7500 6000
$Comp
L Regulator_Linear:LP2950-5.0_TO92 U4
U 1 1 5BB452BC
P 7000 6500
F 0 "U4" H 7000 6742 50  0000 C CNN
F 1 "LP2950-5.0_TO92" H 7000 6651 50  0000 C CNN
F 2 "Package_TO_SOT_THT:TO-92" H 7000 6725 50  0001 C CIN
F 3 "http://www.ti.com/lit/ds/symlink/lp2950-n.pdf" H 7000 6450 50  0001 C CNN
	1    7000 6500
	-1   0    0    -1  
$EndComp
Wire Wire Line
	7300 6500 7300 5600
Wire Wire Line
	7300 6500 8000 6500
Wire Wire Line
	8000 6500 8000 5600
Connection ~ 7300 6500
Wire Wire Line
	6700 6500 6600 6500
Connection ~ 5850 6500
Wire Wire Line
	5850 6500 5850 5500
$Comp
L Device:C C5
U 1 1 5BB81BF9
P 6600 6650
F 0 "C5" H 6650 6750 50  0000 L CNN
F 1 "4.7u" H 6650 6550 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 6600 6650 60  0001 C CNN
F 3 "" H 6600 6650 60  0001 C CNN
	1    6600 6650
	1    0    0    -1  
$EndComp
Connection ~ 6600 6500
Wire Wire Line
	6600 6500 5850 6500
Wire Wire Line
	6600 6800 7000 6800
Wire Wire Line
	7000 6800 7000 7000
Connection ~ 7000 6800
Connection ~ 7000 7000
Wire Wire Line
	7000 7000 7600 7000
$Comp
L Connector_Generic:Conn_01x02 P2
U 1 1 5BCD3624
P 5250 900
F 0 "P2" V 5200 900 40  0000 C CNN
F 1 "12V" V 5300 900 40  0000 C CNN
F 2 "Connector_Molex:Molex_SPOX_5267-02A_1x02_P2.50mm_Vertical" H 5250 900 60  0001 C CNN
F 3 "" H 5250 900 60  0001 C CNN
	1    5250 900 
	0    -1   -1   0   
$EndComp
$Comp
L devicex:photoMOS_AQV25 Q1
U 1 1 5BCF303F
P 5125 3050
F 0 "Q1" H 5125 3678 50  0000 C CNN
F 1 "photoMOS" H 5125 3587 50  0000 C CNN
F 2 "ICs_SMD_K:SOP6" H 5450 3150 50  0001 C CNN
F 3 "" H 5150 3400 50  0001 C CNN
	1    5125 3050
	1    0    0    -1  
$EndComp
$Comp
L devicex:photoMOS_AQV25 Q2
U 1 1 5BCF3383
P 5125 3700
F 0 "Q2" H 5125 4328 50  0000 C CNN
F 1 "photoMOS" H 5125 4237 50  0000 C CNN
F 2 "ICs_SMD_K:SOP6" H 5450 3800 50  0001 C CNN
F 3 "" H 5150 4050 50  0001 C CNN
	1    5125 3700
	1    0    0    -1  
$EndComp
$Comp
L devicex:photoMOS_AQV25 Q3
U 1 1 5BCF3403
P 5125 4350
F 0 "Q3" H 5125 4978 50  0000 C CNN
F 1 "photoMOS" H 5125 4887 50  0000 C CNN
F 2 "ICs_SMD_K:SOP6" H 5450 4450 50  0001 C CNN
F 3 "" H 5150 4700 50  0001 C CNN
	1    5125 4350
	1    0    0    -1  
$EndComp
$Comp
L devicex:photoMOS_AQV25 Q4
U 1 1 5BCF358D
P 5125 5000
F 0 "Q4" H 5125 5628 50  0000 C CNN
F 1 "photoMOS" H 5125 5537 50  0000 C CNN
F 2 "ICs_SMD_K:SOP6" H 5450 5100 50  0001 C CNN
F 3 "" H 5150 5350 50  0001 C CNN
	1    5125 5000
	1    0    0    -1  
$EndComp
Wire Wire Line
	5400 4750 5500 4750
Wire Wire Line
	5500 4750 5500 4100
Wire Wire Line
	5400 4100 5500 4100
Connection ~ 5500 4100
Wire Wire Line
	5500 4100 5500 3450
Wire Wire Line
	5400 3450 5500 3450
Connection ~ 5500 3450
Wire Wire Line
	5500 3450 5500 2800
Wire Wire Line
	5400 2800 5500 2800
Connection ~ 5500 2800
Wire Wire Line
	5500 2800 5500 1400
Wire Wire Line
	5900 1100 5900 2600
Wire Wire Line
	5900 2600 5400 2600
Wire Wire Line
	6250 1100 6250 3250
Wire Wire Line
	6250 3250 5400 3250
Wire Wire Line
	6600 1100 6600 3900
Wire Wire Line
	6600 3900 5400 3900
Wire Wire Line
	6950 1100 6950 4550
Wire Wire Line
	6950 4550 5400 4550
Wire Wire Line
	4850 4750 4725 4750
Wire Wire Line
	4725 4750 4725 5175
Wire Wire Line
	4000 3250 4125 3250
Wire Wire Line
	3900 3900 4125 3900
Wire Wire Line
	4400 2600 4850 2600
Wire Wire Line
	4425 3250 4850 3250
Wire Wire Line
	4425 3900 4850 3900
Wire Wire Line
	4425 4550 4850 4550
Wire Wire Line
	4850 4100 4725 4100
Wire Wire Line
	4725 4100 4725 4750
Connection ~ 4725 4750
Wire Wire Line
	4850 3450 4725 3450
Wire Wire Line
	4725 3450 4725 4100
Connection ~ 4725 4100
Wire Wire Line
	4850 2800 4725 2800
Wire Wire Line
	4725 2800 4725 3450
Connection ~ 4725 3450
Text Label 5900 1450 0    50   ~ 0
X1
Text Label 6250 1450 0    50   ~ 0
X2
Text Label 6600 1450 0    50   ~ 0
X3
Text Label 6950 1450 0    50   ~ 0
X4
$EndSCHEMATC
